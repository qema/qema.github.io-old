Title: Dialogue Graphs

Click to inspect a node, or drag to move a node. Scroll to zoom, or drag the canvas to pan.

<script type="text/javascript" src="http://wanganzhou.com/lib/vis/vis.js"></script>
<link href="http://wanganzhou.com/lib/vis/vis.css" rel="stylesheet" type="text/css" />

<style type="text/css">
    #mynetwork {
	width: 100%;
	height: 800px;
	border: 1px solid lightgray;
    }
</style>
<table>
<tr><td style="padding-right:1em;"><b><a onclick="switch_shrew();" href="#">Taming of the Shrew</a></b></td>
<td style="padding-right:1em;"><b><a onclick="switch_midsummer();" href="#">Midsummer Night's Dream</a></b></td>
<td><b><a onclick="switch_hamlet();" href="#">Hamlet</a></b></tr>
</table>
<div id="mynetwork"></div>

<script type="text/javascript">

var nodes_hamlet = new vis.DataSet([
    {id: 0, label: 'BERNARDO', color: '#de99ff'},
    {id: 1, label: 'CORNELIUS', color: '#ec99ff'},
    {id: 2, label: 'Captain', color: '#ec99ff'},
    {id: 3, label: 'Danes', color: '#e599ff'},
    {id: 4, label: 'FRANCISCO', color: '#ec99ff'},
    {id: 5, label: 'First Ambassador', color: '#f299ff'},
    {id: 6, label: 'First Clown', color: '#ec99ff'},
    {id: 7, label: 'First Player', color: '#ec99ff'},
    {id: 8, label: 'First Priest', color: '#ec99ff'},
    {id: 9, label: 'First Sailor', color: '#ec99ff'},
    {id: 10, label: 'GUILDENSTERN', color: '#d799ff'},
    {id: 11, label: 'Gentleman', color: '#e599ff'},
    {id: 12, label: 'Ghost', color: '#de99ff'},
    {id: 13, label: 'HAMLET', color: '#0099ff'},
    {id: 14, label: 'HORATIO', color: '#4e99ff'},
    {id: 15, label: 'KING CLAUDIUS', color: '#7c99ff'},
    {id: 16, label: 'LAERTES', color: '#9399ff'},
    {id: 17, label: 'LORD POLONIUS', color: '#a699ff'},
    {id: 18, label: 'LUCIANUS', color: '#f299ff'},
    {id: 19, label: 'Lord', color: '#f299ff'},
    {id: 20, label: 'MARCELLUS', color: '#c899ff'},
    {id: 21, label: 'Messenger', color: '#f299ff'},
    {id: 22, label: 'OPHELIA', color: '#a699ff'},
    {id: 23, label: 'OSRIC', color: '#de99ff'},
    {id: 24, label: 'PRINCE FORTINBRAS', color: '#e599ff'},
    {id: 25, label: 'Player King', color: '#ec99ff'},
    {id: 26, label: 'Player Queen', color: '#f299ff'},
    {id: 27, label: 'QUEEN GERTRUDE', color: '#9d99ff'},
    {id: 28, label: 'REYNALDO', color: '#f299ff'},
    {id: 29, label: 'ROSENCRANTZ', color: '#c899ff'},
    {id: 30, label: 'Second Clown', color: '#f899ff'},
    {id: 31, label: 'Servant', color: '#f299ff'},
    {id: 32, label: 'VOLTIMAND', color: '#ec99ff'}
]);
var edges_hamlet = new vis.DataSet([
    {from: 0, to: 4},
    {from: 0, to: 16},
    {from: 0, to: 20},
    {from: 1, to: 15},
    {from: 1, to: 16},
    {from: 1, to: 32},
    {from: 2, to: 29},
    {from: 3, to: 15},
    {from: 3, to: 16},
    {from: 3, to: 22},
    {from: 3, to: 27},
    {from: 6, to: 30},
    {from: 7, to: 17},
    {from: 7, to: 29},
    {from: 8, to: 16},
    {from: 8, to: 27},
    {from: 9, to: 15},
    {from: 9, to: 31},
    {from: 10, to: 15},
    {from: 10, to: 29},
    {from: 13, to: 0},
    {from: 13, to: 2},
    {from: 13, to: 6},
    {from: 13, to: 7},
    {from: 13, to: 8},
    {from: 13, to: 10},
    {from: 13, to: 12},
    {from: 13, to: 14},
    {from: 13, to: 15},
    {from: 13, to: 16},
    {from: 13, to: 17},
    {from: 13, to: 18},
    {from: 13, to: 19},
    {from: 13, to: 20},
    {from: 13, to: 22},
    {from: 13, to: 23},
    {from: 13, to: 24},
    {from: 13, to: 25},
    {from: 13, to: 27},
    {from: 13, to: 29},
    {from: 14, to: 0},
    {from: 14, to: 4},
    {from: 14, to: 5},
    {from: 14, to: 6},
    {from: 14, to: 9},
    {from: 14, to: 10},
    {from: 14, to: 11},
    {from: 14, to: 12},
    {from: 14, to: 15},
    {from: 14, to: 16},
    {from: 14, to: 17},
    {from: 14, to: 19},
    {from: 14, to: 20},
    {from: 14, to: 22},
    {from: 14, to: 23},
    {from: 14, to: 24},
    {from: 14, to: 27},
    {from: 14, to: 31},
    {from: 15, to: 11},
    {from: 15, to: 16},
    {from: 17, to: 10},
    {from: 17, to: 12},
    {from: 17, to: 15},
    {from: 17, to: 16},
    {from: 17, to: 20},
    {from: 17, to: 27},
    {from: 17, to: 29},
    {from: 20, to: 4},
    {from: 20, to: 12},
    {from: 20, to: 15},
    {from: 20, to: 16},
    {from: 21, to: 15},
    {from: 21, to: 16},
    {from: 22, to: 11},
    {from: 22, to: 15},
    {from: 22, to: 16},
    {from: 22, to: 17},
    {from: 22, to: 18},
    {from: 22, to: 25},
    {from: 22, to: 27},
    {from: 22, to: 28},
    {from: 22, to: 29},
    {from: 23, to: 15},
    {from: 23, to: 16},
    {from: 24, to: 2},
    {from: 24, to: 5},
    {from: 26, to: 13},
    {from: 26, to: 25},
    {from: 27, to: 10},
    {from: 27, to: 11},
    {from: 27, to: 12},
    {from: 27, to: 15},
    {from: 27, to: 16},
    {from: 27, to: 23},
    {from: 27, to: 29},
    {from: 28, to: 17},
    {from: 29, to: 15},
    {from: 32, to: 15},
    {from: 32, to: 16}
]);
var nodes_shrew = new vis.DataSet([
    {id: 0, label: 'A Player', color: '#f499ff'},
    {id: 1, label: 'BAPTISTA', color: '#a499ff'},
    {id: 2, label: 'BIANCA', color: '#ac99ff'},
    {id: 3, label: 'BIONDELLO', color: '#bb99ff'},
    {id: 4, label: 'CURTIS', color: '#ee99ff'},
    {id: 5, label: 'First Huntsman', color: '#ee99ff'},
    {id: 6, label: 'First Servant', color: '#bb99ff'},
    {id: 7, label: 'GREMIO', color: '#ac99ff'},
    {id: 8, label: 'GRUMIO', color: '#7f99ff'},
    {id: 9, label: 'HORTENSIA', color: '#d699ff'},
    {id: 10, label: 'HORTENSIO', color: '#9c99ff'},
    {id: 11, label: 'Haberdasher', color: '#ee99ff'},
    {id: 12, label: 'Hostess', color: '#f999ff'},
    {id: 13, label: 'JOSEPH', color: '#e299ff'},
    {id: 14, label: 'KATARINA', color: '#dc99ff'},
    {id: 15, label: 'KATHARINA', color: '#9399ff'},
    {id: 16, label: 'LUCENTIO', color: '#9399ff'},
    {id: 17, label: 'Lord', color: '#bb99ff'},
    {id: 18, label: 'Messenger', color: '#ee99ff'},
    {id: 19, label: 'NATHANIEL', color: '#dc99ff'},
    {id: 20, label: 'NICHOLAS', color: '#e299ff'},
    {id: 21, label: 'PETER', color: '#e899ff'},
    {id: 22, label: 'PETRUCHIO', color: '#0099ff'},
    {id: 23, label: 'PHILIP', color: '#e299ff'},
    {id: 24, label: 'Page', color: '#d099ff'},
    {id: 25, label: 'Pedant', color: '#d099ff'},
    {id: 26, label: 'Players', color: '#f999ff'},
    {id: 27, label: 'SLY', color: '#c299ff'},
    {id: 28, label: 'Second Huntsman', color: '#ee99ff'},
    {id: 29, label: 'Second Servant', color: '#e299ff'},
    {id: 30, label: 'Servant', color: '#e299ff'},
    {id: 31, label: 'TRANIO', color: '#a499ff'},
    {id: 32, label: 'Tailor', color: '#e899ff'},
    {id: 33, label: 'Third Servant', color: '#e299ff'},
    {id: 34, label: 'VINCENTIO', color: '#bb99ff'},
    {id: 35, label: 'Widow', color: '#d699ff'}
]);
var edges_shrew = new vis.DataSet([
    {from: 1, to: 2},
    {from: 1, to: 7},
    {from: 1, to: 9},
    {from: 1, to: 10},
    {from: 1, to: 14},
    {from: 2, to: 3},
    {from: 2, to: 7},
    {from: 2, to: 10},
    {from: 2, to: 22},
    {from: 2, to: 31},
    {from: 2, to: 34},
    {from: 2, to: 35},
    {from: 3, to: 1},
    {from: 3, to: 22},
    {from: 3, to: 25},
    {from: 3, to: 34},
    {from: 4, to: 19},
    {from: 4, to: 22},
    {from: 6, to: 3},
    {from: 6, to: 17},
    {from: 6, to: 21},
    {from: 6, to: 24},
    {from: 6, to: 29},
    {from: 6, to: 33},
    {from: 7, to: 3},
    {from: 7, to: 14},
    {from: 7, to: 22},
    {from: 7, to: 25},
    {from: 7, to: 34},
    {from: 8, to: 1},
    {from: 8, to: 2},
    {from: 8, to: 3},
    {from: 8, to: 4},
    {from: 8, to: 7},
    {from: 8, to: 10},
    {from: 8, to: 13},
    {from: 8, to: 14},
    {from: 8, to: 16},
    {from: 8, to: 19},
    {from: 8, to: 20},
    {from: 8, to: 21},
    {from: 8, to: 22},
    {from: 8, to: 23},
    {from: 8, to: 25},
    {from: 8, to: 31},
    {from: 8, to: 32},
    {from: 9, to: 2},
    {from: 9, to: 7},
    {from: 9, to: 10},
    {from: 9, to: 31},
    {from: 10, to: 3},
    {from: 10, to: 7},
    {from: 10, to: 31},
    {from: 10, to: 35},
    {from: 11, to: 10},
    {from: 11, to: 22},
    {from: 13, to: 19},
    {from: 13, to: 20},
    {from: 13, to: 22},
    {from: 15, to: 1},
    {from: 15, to: 2},
    {from: 15, to: 6},
    {from: 15, to: 7},
    {from: 15, to: 8},
    {from: 15, to: 9},
    {from: 15, to: 10},
    {from: 15, to: 11},
    {from: 15, to: 14},
    {from: 15, to: 16},
    {from: 15, to: 21},
    {from: 15, to: 22},
    {from: 15, to: 31},
    {from: 15, to: 32},
    {from: 15, to: 34},
    {from: 16, to: 1},
    {from: 16, to: 2},
    {from: 16, to: 3},
    {from: 16, to: 6},
    {from: 16, to: 7},
    {from: 16, to: 9},
    {from: 16, to: 10},
    {from: 16, to: 22},
    {from: 16, to: 24},
    {from: 16, to: 25},
    {from: 16, to: 34},
    {from: 16, to: 35},
    {from: 17, to: 0},
    {from: 17, to: 5},
    {from: 17, to: 24},
    {from: 17, to: 26},
    {from: 18, to: 17},
    {from: 18, to: 24},
    {from: 19, to: 22},
    {from: 20, to: 19},
    {from: 20, to: 22},
    {from: 22, to: 1},
    {from: 22, to: 6},
    {from: 22, to: 10},
    {from: 22, to: 14},
    {from: 22, to: 21},
    {from: 22, to: 24},
    {from: 22, to: 25},
    {from: 22, to: 32},
    {from: 22, to: 34},
    {from: 23, to: 13},
    {from: 23, to: 19},
    {from: 23, to: 20},
    {from: 23, to: 22},
    {from: 24, to: 29},
    {from: 24, to: 33},
    {from: 25, to: 1},
    {from: 27, to: 0},
    {from: 27, to: 6},
    {from: 27, to: 12},
    {from: 27, to: 16},
    {from: 27, to: 17},
    {from: 27, to: 18},
    {from: 27, to: 22},
    {from: 27, to: 24},
    {from: 27, to: 29},
    {from: 27, to: 33},
    {from: 28, to: 5},
    {from: 28, to: 17},
    {from: 29, to: 17},
    {from: 29, to: 33},
    {from: 30, to: 2},
    {from: 30, to: 5},
    {from: 30, to: 10},
    {from: 30, to: 17},
    {from: 30, to: 28},
    {from: 31, to: 1},
    {from: 31, to: 3},
    {from: 31, to: 6},
    {from: 31, to: 7},
    {from: 31, to: 14},
    {from: 31, to: 16},
    {from: 31, to: 22},
    {from: 31, to: 25},
    {from: 31, to: 34},
    {from: 32, to: 10},
    {from: 33, to: 17},
    {from: 34, to: 1},
    {from: 34, to: 10},
    {from: 34, to: 25},
    {from: 34, to: 35},
    {from: 35, to: 1},
    {from: 35, to: 15},
    {from: 35, to: 22}
]);
var nodes_midsummer = new vis.DataSet([
    {id: 0, label: 'BOTTOM', color: '#0099ff'},
    {id: 1, label: 'COBWEB', color: '#d099ff'},
    {id: 2, label: 'DEMETRIUS', color: '#6899ff'},
    {id: 3, label: 'EGEUS', color: '#d899ff'},
    {id: 4, label: 'FLUTE', color: '#d099ff'},
    {id: 5, label: 'Fairy', color: '#f099ff'},
    {id: 6, label: 'HELENA', color: '#c799ff'},
    {id: 7, label: 'HERMIA', color: '#be99ff'},
    {id: 8, label: 'HERNIA', color: '#e099ff'},
    {id: 9, label: 'HIPPOLYTA', color: '#9f99ff'},
    {id: 10, label: 'LYSANDER', color: '#8699ff'},
    {id: 11, label: 'Lion', color: '#e899ff'},
    {id: 12, label: 'MOTH', color: '#d099ff'},
    {id: 13, label: 'MUSTARDSEED', color: '#d099ff'},
    {id: 14, label: 'Moonshine', color: '#d899ff'},
    {id: 15, label: 'OBERON', color: '#9399ff'},
    {id: 16, label: 'PEASEBLOSSOM', color: '#d099ff'},
    {id: 17, label: 'PHILOSTRATE', color: '#f099ff'},
    {id: 18, label: 'PUCK', color: '#7899ff'},
    {id: 19, label: 'Pyramus', color: '#d099ff'},
    {id: 20, label: 'QUINCE', color: '#c799ff'},
    {id: 21, label: 'SNOUT', color: '#d099ff'},
    {id: 22, label: 'SNUG', color: '#d099ff'},
    {id: 23, label: 'STARVELING', color: '#d099ff'},
    {id: 24, label: 'THESEUS', color: '#6899ff'},
    {id: 25, label: 'TITANIA', color: '#be99ff'},
    {id: 26, label: 'Thisbe', color: '#c799ff'},
    {id: 27, label: 'Wall', color: '#e099ff'}
]);
var edges_midsummer = new vis.DataSet([
    {from: 0, to: 9},
    {from: 0, to: 10},
    {from: 1, to: 0},
    {from: 1, to: 13},
    {from: 2, to: 0},
    {from: 2, to: 3},
    {from: 2, to: 6},
    {from: 2, to: 7},
    {from: 2, to: 9},
    {from: 2, to: 10},
    {from: 2, to: 11},
    {from: 2, to: 14},
    {from: 2, to: 15},
    {from: 2, to: 18},
    {from: 2, to: 19},
    {from: 2, to: 26},
    {from: 2, to: 27},
    {from: 3, to: 7},
    {from: 3, to: 9},
    {from: 3, to: 10},
    {from: 4, to: 0},
    {from: 4, to: 21},
    {from: 6, to: 0},
    {from: 6, to: 10},
    {from: 7, to: 0},
    {from: 7, to: 6},
    {from: 7, to: 10},
    {from: 7, to: 18},
    {from: 8, to: 2},
    {from: 8, to: 6},
    {from: 8, to: 7},
    {from: 8, to: 10},
    {from: 9, to: 14},
    {from: 9, to: 26},
    {from: 10, to: 9},
    {from: 11, to: 9},
    {from: 12, to: 0},
    {from: 12, to: 1},
    {from: 12, to: 13},
    {from: 12, to: 15},
    {from: 12, to: 16},
    {from: 13, to: 0},
    {from: 14, to: 10},
    {from: 14, to: 24},
    {from: 15, to: 0},
    {from: 15, to: 1},
    {from: 15, to: 5},
    {from: 15, to: 6},
    {from: 15, to: 10},
    {from: 15, to: 13},
    {from: 15, to: 16},
    {from: 15, to: 18},
    {from: 15, to: 24},
    {from: 16, to: 0},
    {from: 16, to: 1},
    {from: 16, to: 13},
    {from: 17, to: 9},
    {from: 18, to: 0},
    {from: 18, to: 4},
    {from: 18, to: 5},
    {from: 18, to: 6},
    {from: 18, to: 10},
    {from: 18, to: 20},
    {from: 18, to: 21},
    {from: 18, to: 22},
    {from: 18, to: 23},
    {from: 19, to: 9},
    {from: 19, to: 10},
    {from: 19, to: 26},
    {from: 19, to: 27},
    {from: 20, to: 0},
    {from: 20, to: 4},
    {from: 20, to: 9},
    {from: 20, to: 21},
    {from: 20, to: 22},
    {from: 21, to: 0},
    {from: 22, to: 0},
    {from: 22, to: 4},
    {from: 22, to: 21},
    {from: 23, to: 0},
    {from: 23, to: 4},
    {from: 23, to: 20},
    {from: 23, to: 21},
    {from: 23, to: 22},
    {from: 24, to: 0},
    {from: 24, to: 2},
    {from: 24, to: 3},
    {from: 24, to: 7},
    {from: 24, to: 9},
    {from: 24, to: 10},
    {from: 24, to: 11},
    {from: 24, to: 17},
    {from: 24, to: 18},
    {from: 24, to: 19},
    {from: 24, to: 27},
    {from: 25, to: 0},
    {from: 25, to: 1},
    {from: 25, to: 12},
    {from: 25, to: 13},
    {from: 25, to: 15},
    {from: 25, to: 16},
    {from: 25, to: 18},
    {from: 25, to: 24},
    {from: 26, to: 10},
    {from: 26, to: 14},
    {from: 26, to: 24},
    {from: 26, to: 27}
]);
    // create a network
    var container = document.getElementById('mynetwork');

    // provide the data in the vis format
    var data = {
        nodes: nodes_shrew,
        edges: edges_shrew
    };

    var options = {
        configure: {enabled: false}
    };

    // initialize your network!
var network = new vis.Network(container, data, options);

function switch_midsummer() {
  network.setData({nodes: nodes_midsummer, edges: edges_midsummer});
}

function switch_shrew() {
  network.setData({nodes: nodes_shrew, edges: edges_shrew});
}

function switch_hamlet() {
  network.setData({nodes: nodes_hamlet, edges: edges_hamlet});
}

</script>

## About

This is a visualization of social networks in three Shakespeare plays, created with Python and [vis.js](http://visjs.org), using data from the [MIT Shakespare collection](http://shakespeare.mit.edu).

Each vertex represents a character, and the edges connect characters who talk with each other. I did this by taking all the sets of characters on stage between each stage direction, and then merging these sets. This turns out to be a good heuristic because it breaks groups between character entrances and exits, and other stage directions simply cause redundant groups to form which get filtered during merging.

The edges are modeled as physical springs with vis.js so clusters tend to form based on the emergent "cliques". Finally, the characters are colored in the graph by popularity.