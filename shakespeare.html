<!-- Template for every page. Client must provide: 
SITE_URL - URL of site (with trailing slash)
TITLE - Title of site
HEADER - Header bar (will be generated from header-template.html)
CONTENT - Main content (will be generated from post-template.html)
NAV_LINK - Context-based address to link to (depending on the page)
NAV_TEXT - The text of the NAV_LINK
FOOTER - Footer bar (will be generated from footer-template.html)  -->

<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="utf-8">
  <link rel="stylesheet" href="http://wanganzhou.com/highlight.css">
  <script src="http://wanganzhou.com/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" type="text/css" href="http://wanganzhou.com/style.css">
  <title>Paradoxical</title>
</head>
<body>
  <!-- Template for site header. Client must provide:
SITE_URL: URL of site (with trailing slash)
TITLE: Title of site.
TAGLINE: Tagline.
MENU: Navigation bar. -->

<div class="header">
  <a href="http://wanganzhou.com/index.html" class="header-title">
    Paradoxical
  </a>
  <div class="header-tagline">
    A computer science blog.
  </div>
  <div class="header-menu">
    <nav class="nav-bar"><ul><li><a href="http://wanganzhou.com/index.html">Home</a></li><li><a href="#">Code</a><ul><li><a href="http://wanganzhou.com/author.html">Author</a></li><li><a href="http://wanganzhou.com/shakespeare.html">Dialogue Graphs</a></li><li><a href="http://wanganzhou.com/tie-dye.html">Tie-Dye Algorithm</a></li><li><a href="http://wanganzhou.com/sound-transfer.html">Sound Transfer</a></li></ul></li><li><a href="#">Games</a><ul><li><a href="http://wanganzhou.com/land-of-stuff.html">The Land of Stuff</a></li><li><a href="http://wanganzhou.com/berry-hop.html">Berry Hop</a></li></ul></li><li><a href="#">Music</a><ul><li><a href="http://wanganzhou.com/compositions.html">Compositions</a></li><li><a href="http://wanganzhou.com/covers.html">Covers</a></li></ul></li></ul></nav>
  </div>
</div>

  <div class="content">
    <!-- Template for each page. Client must provide:
PAGE_TITLE: Title of page.
CONTENT: HTML (not Markdown) content of page. -->

<article class="page">
  <header class="page-header">
    <div class="page-title">
      Dialogue Graphs
    </div>
  </header>
  <section class="page-content">
    <p>Click to inspect a node, or drag to move a node. Scroll to zoom, or drag the canvas to pan.</p>
<script type="text/javascript" src="http://wanganzhou.com/lib/vis/vis.js"></script>

<p><link href="http://wanganzhou.com/lib/vis/vis.css" rel="stylesheet" type="text/css" /></p>
<style type="text/css">
    #mynetwork {
    width: 100%;
    height: 800px;
    border: 1px solid lightgray;
    }
</style>

<div id="mynetwork"></div>

<script type="text/javascript">
var nodes = new vis.DataSet([
    {id: 0, label: 'BOTTOM', color: '#0099ff'},
    {id: 1, label: 'COBWEB', color: '#d099ff'},
    {id: 2, label: 'DEMETRIUS', color: '#6899ff'},
    {id: 3, label: 'EGEUS', color: '#d899ff'},
    {id: 4, label: 'FLUTE', color: '#d099ff'},
    {id: 5, label: 'Fairy', color: '#f099ff'},
    {id: 6, label: 'HELENA', color: '#c799ff'},
    {id: 7, label: 'HERMIA', color: '#be99ff'},
    {id: 8, label: 'HERNIA', color: '#e099ff'},
    {id: 9, label: 'HIPPOLYTA', color: '#9f99ff'},
    {id: 10, label: 'LYSANDER', color: '#8699ff'},
    {id: 11, label: 'Lion', color: '#e899ff'},
    {id: 12, label: 'MOTH', color: '#d099ff'},
    {id: 13, label: 'MUSTARDSEED', color: '#d099ff'},
    {id: 14, label: 'Moonshine', color: '#d899ff'},
    {id: 15, label: 'OBERON', color: '#9399ff'},
    {id: 16, label: 'PEASEBLOSSOM', color: '#d099ff'},
    {id: 17, label: 'PHILOSTRATE', color: '#f099ff'},
    {id: 18, label: 'PUCK', color: '#7899ff'},
    {id: 19, label: 'Pyramus', color: '#d099ff'},
    {id: 20, label: 'QUINCE', color: '#c799ff'},
    {id: 21, label: 'SNOUT', color: '#d099ff'},
    {id: 22, label: 'SNUG', color: '#d099ff'},
    {id: 23, label: 'STARVELING', color: '#d099ff'},
    {id: 24, label: 'THESEUS', color: '#6899ff'},
    {id: 25, label: 'TITANIA', color: '#be99ff'},
    {id: 26, label: 'Thisbe', color: '#c799ff'},
    {id: 27, label: 'Wall', color: '#e099ff'}
]);
var edges = new vis.DataSet([
    {from: 0, to: 9},
    {from: 0, to: 10},
    {from: 1, to: 0},
    {from: 1, to: 13},
    {from: 2, to: 0},
    {from: 2, to: 3},
    {from: 2, to: 6},
    {from: 2, to: 7},
    {from: 2, to: 9},
    {from: 2, to: 10},
    {from: 2, to: 11},
    {from: 2, to: 14},
    {from: 2, to: 15},
    {from: 2, to: 18},
    {from: 2, to: 19},
    {from: 2, to: 26},
    {from: 2, to: 27},
    {from: 3, to: 7},
    {from: 3, to: 9},
    {from: 3, to: 10},
    {from: 4, to: 0},
    {from: 4, to: 21},
    {from: 6, to: 0},
    {from: 6, to: 10},
    {from: 7, to: 0},
    {from: 7, to: 6},
    {from: 7, to: 10},
    {from: 7, to: 18},
    {from: 8, to: 2},
    {from: 8, to: 6},
    {from: 8, to: 7},
    {from: 8, to: 10},
    {from: 9, to: 14},
    {from: 9, to: 26},
    {from: 10, to: 9},
    {from: 11, to: 9},
    {from: 12, to: 0},
    {from: 12, to: 1},
    {from: 12, to: 13},
    {from: 12, to: 15},
    {from: 12, to: 16},
    {from: 13, to: 0},
    {from: 14, to: 10},
    {from: 14, to: 24},
    {from: 15, to: 0},
    {from: 15, to: 1},
    {from: 15, to: 5},
    {from: 15, to: 6},
    {from: 15, to: 10},
    {from: 15, to: 13},
    {from: 15, to: 16},
    {from: 15, to: 18},
    {from: 15, to: 24},
    {from: 16, to: 0},
    {from: 16, to: 1},
    {from: 16, to: 13},
    {from: 17, to: 9},
    {from: 18, to: 0},
    {from: 18, to: 4},
    {from: 18, to: 5},
    {from: 18, to: 6},
    {from: 18, to: 10},
    {from: 18, to: 20},
    {from: 18, to: 21},
    {from: 18, to: 22},
    {from: 18, to: 23},
    {from: 19, to: 9},
    {from: 19, to: 10},
    {from: 19, to: 26},
    {from: 19, to: 27},
    {from: 20, to: 0},
    {from: 20, to: 4},
    {from: 20, to: 9},
    {from: 20, to: 21},
    {from: 20, to: 22},
    {from: 21, to: 0},
    {from: 22, to: 0},
    {from: 22, to: 4},
    {from: 22, to: 21},
    {from: 23, to: 0},
    {from: 23, to: 4},
    {from: 23, to: 20},
    {from: 23, to: 21},
    {from: 23, to: 22},
    {from: 24, to: 0},
    {from: 24, to: 2},
    {from: 24, to: 3},
    {from: 24, to: 7},
    {from: 24, to: 9},
    {from: 24, to: 10},
    {from: 24, to: 11},
    {from: 24, to: 17},
    {from: 24, to: 18},
    {from: 24, to: 19},
    {from: 24, to: 27},
    {from: 25, to: 0},
    {from: 25, to: 1},
    {from: 25, to: 12},
    {from: 25, to: 13},
    {from: 25, to: 15},
    {from: 25, to: 16},
    {from: 25, to: 18},
    {from: 25, to: 24},
    {from: 26, to: 10},
    {from: 26, to: 14},
    {from: 26, to: 24},
    {from: 26, to: 27}
]);
    // create a network
    var container = document.getElementById('mynetwork');

    // provide the data in the vis format
    var data = {
        nodes: nodes,
        edges: edges
    };

    var options = {
        configure: {enabled: false}
    };

    // initialize your network!
var network = new vis.Network(container, data, options);

var curID = 1;
var numEdges = 0;
network.on ("click", function (params) {
    if (params.nodes.length === 0) {
    nodes.add({id: curID, label: 'Node ' + curID + '', x: params.pointer.canvas.x, y: params.pointer.canvas.y});
    for (i = 1; i < curID; i++) {
        if (numEdges % 3 !== 0) {
            edges.add({from: i, to: curID});
        }
        numEdges++;
    }
    curID++;
    }
});
</script>

<h2>About</h2>
<p>This is a visualization of social networks in A Midsummer Night's Dream created with Python and <a href="http://visjs.org">vis.js</a>, using data from the <a href="http://shakespeare.mit.edu">MIT Shakespare collection</a>.</p>
<p>Each vertex represents a character, and the edges connect characters who talk with each other. I did this by taking all the sets of characters on stage between each stage direction, and then merging these sets. This turns out to be a good heuristic because it breaks groups between character entrances and exits, and other stage directions simply cause redundant groups to form which get filtered during merging.</p>
<p>The edges are modeled as physical springs with vis.js so clusters tend to form based on the emergent "cliques". Finally, the characters are colored in the graph by popularity.</p>
  </section>
</article>

  </div>
  <div class="bottom-nav">
    <a href="http://wanganzhou.com/">Return to home.</a>
  </div>
  <!-- Template for site footer. Client must provide:
AUTHOR: Author of site. -->

<div class="footer">
  <div>Powered by <a href="https://github.com/qema/nanosite">nanosite</a>.</div>
  Copyright Andrew Wang.
</div>

</body>
</html>
